(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{52:function(t,n,e){"use strict";e.r(n),e.d(n,"SettingsController",(function(){return l}));var i=e(0),s=e(29),a=e(1),c=e(11);function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}const l=new class{constructor(){o(this,"onBack",t=>{this.container.hidden=!0,this.container.innerHTML="";const n=t.currentTarget;n.removeEventListener("click",this.onBack),n.hidden=!0}),o(this,"onExtraMenuClick",()=>{const t=Object(i.a)(".sidebar_extra_menu",this.container),n=new s.a(t);console.log(n),n.open||(n.open=!0)}),o(this,"onLogoutClick",()=>{App.logOut()})}show(){const t=App.getAuthUserId(),n=a.a.users.get(t),s=a.a.getUserName(n);this.container=Object(i.a)(".settings_sidebar"),this.container.hidden=!1,this.container.innerHTML=`\n      <div class="sidebar_header">\n        <button class="mdc-icon-button sidebar_back_button"></button>\n        <div class="sidebar_header_title">Settings</div>\n        <div class="mdc-menu-surface--anchor">\n          <button type="button" class="sidebar_extra_menu_button mdc-icon-button"></button>\n          <div class="sidebar_extra_menu mdc-menu mdc-menu-surface">\n            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1">\n              <li class="mdc-list-item settings_extra_menu_item-log_out" role="menuitem">\n                <span class="mdc-list-item__text">Log out</span>\n              </li>\n            </ul>\n          </div>        \n        </div>\n      </div>\n      <div class="sidebar_user_info">\n        <div class="sidebar_user_photo"></div>\n        <div class="sidebar_user_name">${s}</div>\n        <div class="sidebar_user_desc">+${n.phone}</div>\n      </div>\n      <ul class="settings_main_menu_list mdc-list">\n        <li class="mdc-list-item settings_main_menu_item-edit" tabindex="0">\n          <span class="mdc-list-item__text">Edit Profile</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-folders">\n          <span class="mdc-list-item__text">Chat Folders</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-general">\n          <span class="mdc-list-item__text">General Settings</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-notifications">\n          <span class="mdc-list-item__text">Notifications</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-privacy">\n          <span class="mdc-list-item__text">Privacy and Security</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-language">\n          <span class="mdc-list-item__text">Language</span>\n        </li>\n      </ul>\n    `,this.loadUserPhoto(n);const c=Object(i.a)(".sidebar_back_button",this.container);c.addEventListener("click",this.onBack),Object(i.g)(c);const o=Object(i.a)(".sidebar_extra_menu_button",this.container);o.addEventListener("click",this.onExtraMenuClick),Object(i.g)(o);Object(i.a)(".settings_extra_menu_item-log_out",this.container).addEventListener("click",this.onLogoutClick),Object(i.a)(".settings_main_menu_item-folders",this.container).addEventListener("click",()=>{e.e(7).then(e.bind(null,46)).then(({FoldersSettingsController:t})=>(new t).show())}),Object(i.g)(...Object(i.b)(".mdc-list-item",this.container))}loadUserPhoto(t){const n=Object(i.a)(".sidebar_user_photo",this.container),e=a.a.getUserPeer(t);c.a.loadPeerPhoto(n,e,!0)}};window.SettingsController=l}}]);