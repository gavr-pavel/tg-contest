(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{52:function(t,e,n){"use strict";n.r(e),n.d(e,"SettingsController",(function(){return r}));var i=n(0),s=n(29),a=n(1),c=n(11);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const r=new class{constructor(){o(this,"onBack",t=>{this.container.hidden=!0,this.container.innerHTML="";const e=t.currentTarget;e.removeEventListener("click",this.onBack),e.hidden=!0}),o(this,"onExtraMenuClick",t=>{const e=t.currentTarget,n=Object(i.a)(".sidebar_extra_menu",this.container),a=new s.a(n);a.open||(a.open=!0,App.isMobileView()||(a.setAnchorElement(e),a.setAnchorMargin({top:45,left:-100})))}),o(this,"onLogoutClick",()=>{App.logOut()})}show(){const t=App.getAuthUserId(),e=a.a.users.get(t),s=a.a.getUserName(e);this.container=Object(i.a)(".settings_sidebar"),this.container.hidden=!1,this.container.innerHTML=`\n      <div class="sidebar_header">\n        <button class="mdc-icon-button sidebar_back_button"></button>\n        <div class="sidebar_header_title">Settings</div>\n        <div class="mdc-menu-surface--anchor">\n          <button type="button" class="sidebar_extra_menu_button mdc-icon-button"></button>\n          <div class="sidebar_extra_menu mdc-menu mdc-menu-surface">\n            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1">\n              <li class="mdc-list-item settings_extra_menu_item-log_out" role="menuitem">\n                <span class="mdc-list-item__text">Log out</span>\n              </li>\n            </ul>\n          </div>        \n        </div>\n      </div>\n      <div class="sidebar_user_info">\n        <div class="sidebar_user_photo"></div>\n        <div class="sidebar_user_name">${s}</div>\n        <div class="sidebar_user_desc">+${e.phone}</div>\n      </div>\n      <ul class="settings_main_menu_list mdc-list">\n        <li class="mdc-list-item settings_main_menu_item-edit" tabindex="0">\n          <span class="mdc-list-item__text">Edit Profile</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-folders">\n          <span class="mdc-list-item__text">Chat Folders</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-general">\n          <span class="mdc-list-item__text">General Settings</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-notifications">\n          <span class="mdc-list-item__text">Notifications</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-privacy">\n          <span class="mdc-list-item__text">Privacy and Security</span>\n        </li>\n        <li class="mdc-list-item settings_main_menu_item-language">\n          <span class="mdc-list-item__text">Language</span>\n        </li>\n      </ul>\n    `,this.loadUserPhoto(e);const c=Object(i.a)(".sidebar_back_button",this.container);c.addEventListener("click",this.onBack),Object(i.g)(c);const o=Object(i.a)(".sidebar_extra_menu_button",this.container);o.addEventListener("click",this.onExtraMenuClick),Object(i.g)(o);Object(i.a)(".settings_extra_menu_item-log_out",this.container).addEventListener("click",this.onLogoutClick),Object(i.a)(".settings_main_menu_item-folders",this.container).addEventListener("click",()=>{n.e(7).then(n.bind(null,46)).then(({FoldersSettingsController:t})=>(new t).show())}),Object(i.g)(...Object(i.b)(".mdc-list-item",this.container))}loadUserPhoto(t){const e=Object(i.a)(".sidebar_user_photo",this.container),n=a.a.getUserPeer(t);c.a.loadPeerPhoto(e,n,!0)}};window.SettingsController=r}}]);